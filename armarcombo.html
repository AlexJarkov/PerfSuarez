<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">
    <title>ARMA TU COMBO!!!</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="icon" sizes="16x16 32x32 48x48" href="../PerfSuarez/imagenes/Cowboy.ico" type="image/x-icon">
    <link rel="icon" sizes="16x16 32x32 48x48" href="../PerfSuarez/imagenes/Cowboy.webp" type="image/webp">
    <meta property="og:title" content="Arma Tu Combo">
    <meta property="og:description" content="Nuestra más reciente novedad: Arma Tu Combo!!.">
    <meta property="og:image" content="https://www.perfumeriasuarez.com/imagenes/miniatura.JPEG">
    <meta property="og:url" content="https://perfumeriasuarez.com/armarcombo.html">
    <meta property="og:type" content="website">
</head>

<body>
    <div data-include="../header.html"></div>
    <main>
        <section id="combos-personalizados">
            <div class="container">
                <h2>Combos Personalizados</h2>
                <div class="combo-container">
                    <div class="combo-item">
                        <h3>Perfume de uso diario</h3>
                        <div class="combo-selection">
                            <img src="imagenes/image.webp" alt="Perfume de uso diario" id="daily-image">
                            <p id="daily-name"></p>
                            <button class="dropdown-toggle" data-category="daily"
                                onclick="toggleDropdown('daily')">Seleccionar Perfume</button>
                            <select id="daily-perfume" hidden></select>
                            <div id="daily-dropdown" class="dropdown"></div>
                        </div>
                    </div>
                    <div class="combo-item">
                        <h3>Perfume formal</h3>
                        <div class="combo-selection">
                            <img src="imagenes/image.webp" alt="Perfume formal" id="formal-image">
                            <p id="formal-name"></p>
                            <button class="dropdown-toggle" data-category="formal"
                                onclick="toggleDropdown('formal')">Seleccionar Perfume</button>
                            <select id="formal-perfume" hidden></select>
                            <div id="formal-dropdown" class="dropdown"></div>
                        </div>
                    </div>
                    <div class="combo-item">
                        <h3>Perfume fiestero</h3>
                        <div class="combo-selection">
                            <img src="imagenes/image.webp" alt="Perfume fiestero" id="party-image">
                            <p id="party-name"></p>
                            <button class="dropdown-toggle" data-category="party"
                                onclick="toggleDropdown('party')">Seleccionar Perfume</button>
                            <select id="party-perfume" hidden></select>
                            <div id="party-dropdown" class="dropdown"></div>
                        </div>
                    </div>
                    <div class="combo-item">
                        <h3>Regalo</h3>
                        <div class="combo-selection">
                            <img src="imagenes/depositphotos_82350542-stock-photo-beautiful-gold-present-box-with.jpg"
                                alt="Regalo" id="gift-image">
                            <p id="gift-name"></p>
                            <button class="dropdown-toggle" data-category="gift"
                                onclick="toggleDropdown('gift')">Seleccionar Regalo</button>
                            <select id="gift-perfume" hidden></select>
                            <div id="gift-dropdown" class="dropdown"></div>
                        </div>
                    </div>
                </div>
                <div class="total">
                    <p id="savings" style="color: green;">Estás ahorrando: $0.00</p>
                    <h3>Total: $<span id="total-price">0.00</span></h3>
                </div>
                <div class="whatsapp-button">
                    <a id="whatsapp-link" class="disabled" href="javascript:void(0);">Selecciona tres perfumes y el
                        regalo para
                        continuar</a>
                </div>
            </div>
        </section>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const whatsappLink = document.getElementById('whatsapp-link');

            const perfumes = {
                daily: [
                    { name: 'Atelier Versace Figue Blanche EDP 100ml', image: 'imagenes/fotos-catalogo/versace/6d8e2a4a-8b6c-11ed-a3ee-ec394da3569c_2.jpeg', price: 300, discountedPrice: 241 },
                    { name: 'K By Dolce&Gabbana EDT 100ml', image: 'imagenes/fotos-catalogo/d&g/30494500000.png', price: 110, discountedPrice: 87 },
                    { name: 'K By Dolce&Gabbana EDT 200ml', image: 'imagenes/fotos-catalogo/d&g/30494500000.png', price: 150, discountedPrice: 115 },
                    { name: 'Montblanc Explorer Ultra Blue EDP 100ml', image: 'imagenes/fotos-catalogo/mntblanc/DECANdasdas.png', price: 104, discountedPrice: 89 },
                    { name: 'Lattafa Asad Zanzibar EDP 100ml', image: 'imagenes/fotos-catalogo/arabes/ASAD-ZANZIBAR-1.jpg', price: 82, discountedPrice: 77 },
                    { name: 'Carolina Herrera 212 Heroes Man EDT 90ml', image: 'imagenes/fotos-catalogo/ch/Untitled-2.jpg', price: 104, discountedPrice: 92 },
                    { name: 'Montblanc Legend EDP 100ml', image: 'imagenes/fotos-catalogo/mntblanc/MPONT.png', price: 100, discountedPrice: 87 },
                    { name: 'Hermés H24 EDT 100ml', image: 'imagenes/fotos-catalogo/hermes/Untitled-21.jpg', price: 100, discountedPrice: 84 },
                    { name: 'Hermés H24 EDP 100ml', image: 'imagenes/fotos-catalogo/hermes/Untitled-22.jpg', price: 131, discountedPrice: 122 },
                    { name: 'Dolce&Gabbana Pour Homme EDT 125ml', image: 'imagenes/fotos-catalogo/d&g/Untitled-3.jpg', price: 105, discountedPrice: 84 },
                    { name: 'Lacoste L12.12 Blanc EDT 100ml', image: 'imagenes/fotos-catalogo/lacoste/LACO8244887803_G.jpg', price: 94, discountedPrice: 83 },
                    { name: 'Dolce&Gabbana Light Blue EDT 100ml', image: 'imagenes/fotos-catalogo/d&g/Untitled.jpg', price: 122, discountedPrice: 96 },
                    { name: 'Dolce&Gabbana Light Blue EDT 200ml', image: 'imagenes/fotos-catalogo/d&g/Untitled.jpg', price: 158, discountedPrice: 121 },
                    { name: 'Dolce&Gabbana Light Blue Pour Homme EDT 125ml', image: 'imagenes/fotos-catalogo/d&g/MainSpecs-JPG-2000x2000 - px-LB-PH-200 (1).png', price: 105, discountedPrice: 84 },
                    { name: 'Dolce&Gabbana Light Blue Pour Homme Summer Vibes EDT 125ml', image: 'imagenes/fotos-catalogo/d&g/Untitled-2.jpg', price: 111, discountedPrice: 89 },
                    { name: 'K By Dolce&Gabbana EDP 200ml', image: 'imagenes/fotos-catalogo/d&g/DG_K_EDP_PACK_200ML_TIFF_RGB_300_DPI2000x2000.png', price: 160, discountedPrice: 122 },
                    { name: 'K By Dolce&Gabbana EDP 100ml', image: 'imagenes/fotos-catalogo/d&g/DG_K_EDP_PACK_200ML_TIFF_RGB_300_DPI2000x2000.png', price: 132, discountedPrice: 103 },
                    { name: 'K By Dolce&Gabbana EDP Intense 100ml', image: 'imagenes/fotos-catalogo/d&g/d42ab86d-c8d7-419d-bb14-2ec7dbeab2fa.9f1ca683e8878c7d9e877652290a6c1c.webp', price: 162, discountedPrice: 116 },
                ],

                formal: [
                    { name: 'Moncler Pour Femme 100ml', image: 'imagenes/fotos-catalogo/moncler/MC002A01_MONCLER_POURFEMME_100ML_BOTTLEFRONTVIEW_jpg_300.webp', price: 161, discountedPrice: 132 },
                    { name: 'Moncler Pour Femme 150ml (Con Pantalla)', image: 'imagenes/fotos-catalogo/moncler/Untitled.jpg', price: 208, discountedPrice: 194 },
                    { name: 'Moncler Pour Homme 100ml', image: 'imagenes/fotos-catalogo/moncler/moncler-pour-homme-pr.webp', price: 161, discountedPrice: 132 },
                    { name: 'Givenchy Gentleman Society 100ml', image: 'imagenes/fotos-catalogo/givenchy/Untitled-2.jpg', price: 128, discountedPrice: 116 },
                    { name: 'Givenchy Gentleman EDP Boisee 100ml', image: 'imagenes/fotos-catalogo/givenchy/Untitled-1.jpg', price: 104, discountedPrice: 104 },
                    { name: 'Dolce&Gabbana The One Pour Homme EDT 100ml', image: 'imagenes/fotos-catalogo/d&g/TOFMEDT2021-150ml_30212150000_RGB_52x30_300dpicopiacopia.png', price: 100, discountedPrice: 78 },
                    { name: 'Dolce&Gabbana The One Gold Pour Homme EDP Intense 100ml', image: 'imagenes/fotos-catalogo/d&g/dg-the-one-gold-men-edp-pr.webp', price: 110, discountedPrice: 100 },
                    { name: 'Lattafa Asad EDP 100ml', image: 'imagenes/fotos-catalogo/arabes/777571_3_lattafa-asad-man-eau-de-parfum-100ml.jpg', price: 82, discountedPrice: 77 },
                ],

                party: [
                    { name: 'AFNAN 9PM EDP 100ml', image: 'imagenes/fotos-catalogo/arabes/Afnam-9pm.png', price: 82, discountedPrice: 75 },
                    { name: 'Rabanne One Million EDT 100ml', image: 'imagenes/fotos-catalogo/paco/Untitled-2.png', price: 100, discountedPrice: 99 },
                    { name: 'Jean Paul Gaultier La Belle EDP 100ml', image: 'imagenes/fotos-catalogo/jpg/Untitled-2.jpg', price: 114, discountedPrice: 114 },
                    { name: 'Carolina Herrera Very Good Girl EDP 80ml', image: 'imagenes/fotos-catalogo/ch/Untitled-8.png', price: 124, discountedPrice: 122 },
                    { name: 'Carolina Herrera Very Good Girl Glam Parfum', image: 'imagenes/fotos-catalogo/ch/SCH-24697_65188259_GG-VGG-GLAM-PARFUM-80ML.webp', price: 144, discountedPrice: 108 },
                    { name: 'Carolina Herrera Bad Boy Extreme 100ml', image: 'imagenes/fotos-catalogo/ch/Untitled.jpg', price: 108, discountedPrice: 108 },
                    { name: 'Moncler Sunrise Pour Femme 150ml', image: 'imagenes/fotos-catalogo/moncler/0c277468e500180723e2be95cf04df7f3ae18d31_eccbb7bd-3434-4819-90d2-front.webp', price: 138, discountedPrice: 132 },
                    { name: 'Lattafa Qaed Al Fursan Unlimited EDP 100ml', image: 'imagenes/fotos-catalogo/arabes/qaed-al-fursan-unlimited-perfume-bottle-against-white-background.webp', price: 82, discountedPrice: 58 },
                    { name: 'ARMAF Club De Nuit Intense EDT 105ml', image: 'imagenes/fotos-catalogo/arabes/armaf-club-de-nuit-edp-pr.webp', price: 82, discountedPrice: 77 },
                ],

                gift: [
                    { name: 'Waka', image: 'imagenes/soproPA600_fa505239-c929-4b5a-af51-d47d3b311967_1024x1024@2x.webp', price: 0, discountedPrice: 0 },
                    { name: 'Boxer', image: 'imagenes/boxer.jpg', price: 0, discountedPrice: 0 },
                    { name: 'Vela aromática', image: 'imagenes/vela.jpeg', price: 0, discountedPrice: 0 },
                ]
            };

            function closeAllDropdowns() {
                const dropdowns = document.querySelectorAll('.dropdown');
                dropdowns.forEach(dropdown => {
                    dropdown.classList.remove('show');
                });
            }

            function toggleDropdown(category) {
                closeAllDropdowns();
                const dropdown = document.getElementById(`${category}-dropdown`);
                if (dropdown) {
                    dropdown.classList.add('show');
                }
            }

            function selectPerfume(category, perfume) {
                // Actualizar la imagen del perfume seleccionado
                document.getElementById(`${category}-image`).src = perfume.image;

                // Actualizar el nombre del perfume seleccionado
                document.getElementById(`${category}-name`).innerText = perfume.name;

                // Obtener el elemento de selección
                const selectElement = document.getElementById(`${category}-perfume`);

                // Limpiar todas las opciones existentes
                while (selectElement.options.length > 0) {
                    selectElement.remove(0);
                }

                // Añadir el perfume seleccionado como una opción
                const option = document.createElement('option');
                option.value = perfume.name;
                option.text = perfume.name;
                option.setAttribute('data-price', perfume.price);
                option.setAttribute('data-discounted-price', perfume.discountedPrice);
                option.setAttribute('data-image', perfume.image);
                selectElement.appendChild(option);

                // Establecer el valor del elemento de selección al perfume seleccionado
                selectElement.value = perfume.name;

                // Actualizar el total
                updateTotal();

                // Cerrar el dropdown
                closeAllDropdowns();
            }

            // Función para poblar los dropdowns con los perfumes
            function populateDropdown(category) {
                const dropdown = document.getElementById(`${category}-dropdown`);
                dropdown.innerHTML = ''; // Clear existing items
                perfumes[category].forEach(perfume => {
                    const item = document.createElement('div');
                    item.className = 'dropdown-item';
                    item.innerHTML = `<img src="${perfume.image}" alt="${perfume.name}"><p>${perfume.name}</p>`;
                    item.setAttribute('data-price', perfume.price);
                    item.setAttribute('data-discounted-price', perfume.discountedPrice);
                    item.setAttribute('data-image', perfume.image);
                    item.onclick = () => selectPerfume(category, perfume);
                    dropdown.appendChild(item);
                });
            }


            function updateTotal() {
                let total = 0;
                let originalTotal = 0;
                let selectedCount = 0;
                ['daily', 'formal', 'party', 'gift'].forEach(category => {
                    const selectElement = document.getElementById(`${category}-perfume`);
                    if (selectElement && selectElement.options.length > 0) {
                        const selectedOption = selectElement.options[selectElement.selectedIndex];
                        const price = parseFloat(selectedOption.getAttribute('data-price'));
                        const discountedPrice = parseFloat(selectedOption.getAttribute('data-discounted-price'));
                        if (!isNaN(discountedPrice)) {
                            total += discountedPrice;
                            originalTotal += price;
                            selectedCount++;
                        }
                    }
                });

                const savings = originalTotal - total;
                document.getElementById('total-price').innerText = total.toFixed(2);
                document.getElementById('savings').innerText = `Estás ahorrando: $${savings.toFixed(2)}`;
                whatsappCount(selectedCount, total);
            }

            function whatsappCount(selectedCount, total) {
                if (selectedCount === 4) {
                    whatsappLink.classList.remove('disabled');
                    whatsappLink.innerText = 'Ordenar por WhatsApp';
                    updateWhatsAppLink(total);
                } else {
                    whatsappLink.classList.add('disabled');
                    whatsappLink.innerText = 'Selecciona tres perfumes para continuar';
                    whatsappLink.removeAttribute('href');
                }
            }

            function updateWhatsAppLink(total) {
                const dailySelect = document.getElementById('daily-perfume');
                const formalSelect = document.getElementById('formal-perfume');
                const partySelect = document.getElementById('party-perfume');
                const giftSelect = document.getElementById('gift-perfume');
                const precioTotal = total;

                const dailyPerfume = dailySelect ? dailySelect.options[dailySelect.selectedIndex].value : "";
                const formalPerfume = formalSelect ? formalSelect.options[formalSelect.selectedIndex].value : "";
                const partyPerfume = partySelect ? partySelect.options[partySelect.selectedIndex].value : "";
                const gift = giftSelect ? giftSelect.options[giftSelect.selectedIndex].value : "";

                const message = `Hola, me gustaría ordenar el combo personalizado con los siguientes perfumes:
- Uso diario: ${dailyPerfume}
- Formal: ${formalPerfume}
- Fiestero: ${partyPerfume}
- Regalo: ${gift}
Precio: ${precioTotal}$`;

                whatsappLink.href = `https://wa.me/78064327?text=${encodeURIComponent(message)}`;
                console.log('WhatsApp link updated:', whatsappLink.href);
            }

            document.querySelectorAll('.dropdown-toggle').forEach(toggle => {
                toggle.addEventListener('click', (event) => {
                    event.stopPropagation();
                    toggleDropdown(event.currentTarget.dataset.category);
                });
            });

            document.addEventListener('click', (event) => {
                if (!event.target.classList.contains('dropdown-toggle')) {
                    closeAllDropdowns();
                }
            });

            populateDropdown('daily');
            populateDropdown('formal');
            populateDropdown('party');
            populateDropdown('gift');
            updateTotal();
        });
    </script>
    <div data-include="footer.html">
    </div>
    <script src="js/scripts.js"></script>
    <script src="js/include.js"></script>
</body>

</html>